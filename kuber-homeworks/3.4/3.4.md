Задание 1. Выбрать стратегию обновления приложения и описать ваш выбор

Имеется приложение, состоящее из нескольких реплик, которое требуется обновить.

Ресурсы, выделенные для приложения, ограничены, и нет возможности их увеличить.

Запас по ресурсам в менее загруженный момент времени составляет 20%.

Обновление мажорное, новые версии приложения не умеют работать со старыми.

Вам нужно объяснить свой выбор стратегии обновления приложения.

**ответ**

RollingUpdate

Учитывая ограниченные ресурсы, стратегия постепенного обновления позволяет распределить нагрузку на сервера и ресурсы более равномерно. Это позволяет избежать резких скачков нагрузки, которые могут возникнуть при массовом обновлении всех реплик сразу.

Запас ресурсов в менее загруженный момент времени (20%) может быть использован для постепенного обновления. Вы можете начать с небольшой части реплик, а затем постепенно увеличивать объем обновления.

Поскольку новые версии приложения не умеют работать со старыми, постепенное обновление позволит избежать ситуации, когда пользователи могут столкнуться с неработающим приложением из-за несовместимости.

Постепенное обновление позволяет быстро выявить проблемы или ошибки в новой версии, так как они будут затрагивать только часть пользователей. Это поможет минимизировать риски и быстро реагировать на проблемы.

---

Задание 2. Обновить приложение

Создать deployment приложения с контейнерами nginx и multitool. Версию nginx взять 1.19. Количество реплик — 5.

![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/7940c3d9-2bad-4aa2-ae09-51140ab07e20)
![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/4f09e470-dafb-4156-9b3e-2a653acc6724)

Обновить версию nginx в приложении до версии 1.20, сократив время обновления до минимума. Приложение должно быть доступно.

![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/845f211a-10f1-4f41-a3a0-300e5eedff9c)

![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/2684681b-fe61-4815-a3dd-5a9dea2dfe19)


Попытаться обновить nginx до версии 1.28, приложение должно оставаться доступным.

![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/10b64881-a1b0-4bf0-9ce3-9a24831df77c)

![image](https://github.com/AlexanderSchelokov/devops-netology/assets/121572590/af624826-f76c-4aad-bee9-2bc014c6f43b)


Откатиться после неудачного обновления.

